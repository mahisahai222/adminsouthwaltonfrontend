import{i as p,q as x,r as a,j as s,L as w}from"./index-Cl7xnBBD.js";const g=()=>{const r=p(),{token:m}=x(),[c,u]=a.useState(""),[i,t]=a.useState(""),[o,h]=a.useState(!1),[n,d]=a.useState(!1),j=async()=>{d(!0);try{const e=await fetch("http://3.111.163.2:5000/api/auths/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m,newPassword:c})}),l=await e.json();t(l.message),e.ok?h(!0):t(l.message||"Failed to reset password")}catch{t("Failed to reset password")}finally{d(!1)}};return a.useEffect(()=>{if(o){const e=setTimeout(()=>{r("/login")},3e3);return()=>clearTimeout(e)}},[o,r]),s.jsx("div",{className:"container",children:s.jsx("div",{className:"row justify-content-center",children:s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"card",children:[s.jsx("h5",{className:"card-header",children:"Reset Password"}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"New Password:"}),s.jsx("input",{type:"password",value:c,onChange:e=>u(e.target.value),className:"form-control",disabled:n})]}),s.jsx("button",{onClick:j,className:"btn btn-info",disabled:n,children:n?"Loading...":"Reset Password"}),i&&s.jsx("p",{children:i}),o&&s.jsx("div",{className:"mt-3",children:s.jsxs("p",{children:["Redirecting to ",s.jsx(w,{to:"/login",children:"Login"}),"..."]})})]})]})})})})};export{g as default};
